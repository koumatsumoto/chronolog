# Chronologの書き方

Chronolog (.clog) の書き方を記載する。

## 前提

Chronolog のコンセプトは時系列メモである。
Markdown のような構造化文書ではなく小規模なテキストに用いる。
この前提で以下の仕様を検討する。

## メモのファイル名

- ファイルの拡張子は `clog` を使う
- ファイル名は ISO8601 形式を使う
- データ処理時にファイル名から日時を解釈する
- TimeZone の指定がないときはローカル設定を用いる
- ファイル読み込み設定で TimeZone のデフォルトを設定できる
- （例）
  - `"20250428.clog"` → `new Date("20250428T00:00:00")`
  - `"20250428T010203Z.clog"` → `new Date("20250428T010203Z")`

## メモのタイトル

- `#` を使ってメモのタイトルを表現する
- Markdown と違って Chronolog ではタイトルを省略できない
- `#` から行末までの文字列をトリムしたものがタイトルである
- （例）
  - `"# メモのタイトル"` → `"メモのタイトル"`
  - `"# Title of memo"` → `"Title of memo"`
  - `"#  タイトル前後の空白は削除される  "` → `"タイトル前後の空白は削除される"`

## メモの本文

- 本文の書き方は Markdown を継承する
- 本文には見出し1 (`#`) は使えない（タイトルで利用されるため）

## タグとプロパティ

- Chronolog はタグとプロパティの独自構文を使う

### タグ

タグはメモのタイトルのエイリアスとして使う。
そのメモが何かを表現するために使う。

`#tag` のように `#` 付きの文字列をタグとする。
テキストのパース時にタグと見なす条件は以下。

- 行頭もしくは空白 (`/s`) 後の `#` 付きの文字列
- `#` から次の空白までの語をタグとする

タグの正規表現: `(?:^|\s) (#[^\s#]+)(?=\s|$)/g`

#### タグの例

##### 正しいタグ

- #タスク
- #開発
- #プログラミング
- 今日の #予定
- プロジェクト #開発 を進める
- #2024目標

##### タグと認識されないもの

- test#tag
- C#
- #
- ##見出し
- https://example.com/#section

### プロパティ

プロパティはメモの性質を表現するために使う。
例えばメモが下書きであるか、重要なものであるか、など。

`@prop` のように `@` 付きの文字列をプロパティとする。
テキストのパース時にプロパティと見なす条件は以下。

- 行頭もしくは空白 (`/s`) 後の `@` 付きの文字列
- `@` から次の空白までのテキストをプロパティ部分とする
- `@prop:value` のように key:value 形式で入力できる
- `@prop` のみの場合は `prop=true` の boolean として解釈される

#### プロパティの例

##### 正しいプロパティ

- @重要
- @下書き
- @優先度:高
- @締切:2024-06-01
- @担当者:田中
- @レビュー済み @承認済み

##### プロパティと認識されないもの

- test@example.com
- name@domain
- @
- @@二重アット
- https://example.com/@username

##### 解釈例

- @重要 → 重要=true
- @下書き → 下書き=true
- @優先度:高 → 優先度=高
- @締切:2024-06-01 → 締切=2024-06-01
